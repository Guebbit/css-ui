$scss-library-prefix: "" !default;
$scss-library-component-name: "panel-askew-doors" !default;
$scss-library-var-prefix: "" !default;

$panel-askew-doors-color: #000 !default;
$panel-askew-doors-left-color: $panel-askew-doors-color !default;
$panel-askew-doors-right-color: $panel-askew-doors-color !default;
$panel-askew-doors-opacity: 0.5 !default;
$panel-askew-doors-duration: 0.5s !default;
$panel-askew-doors-tilt: 15deg !default;

%#{$scss-library-prefix}#{$scss-library-component-name}animate-active{
  &::before,
  &::after{
    transform: rotate(var(--#{$scss-library-var-prefix}tilt));
  }
}

%#{$scss-library-prefix}#{$scss-library-component-name}open-active{
  &::before{
    transform: (rotate(0) translate(0, -20%));
  }

  &::after{
    transform: (rotate(0) translate(0, 20%));
  }

  &.askew-doors-vertical {
    &::before{
      transform: (rotate(90deg) translate(0, -100%));
    }

    &::after{
      transform: (rotate(90deg) translate(0, 100%));
    }
  }
}

%#{$scss-library-prefix}#{$scss-library-component-name},
.#{$scss-library-prefix}#{$scss-library-component-name}{
  --#{$scss-library-var-prefix}left-color: #{$panel-askew-doors-left-color};
  --#{$scss-library-var-prefix}right-color: #{$panel-askew-doors-right-color};
  --#{$scss-library-var-prefix}opacity: #{$panel-askew-doors-opacity};
  --#{$scss-library-var-prefix}duration: #{$panel-askew-doors-duration};
  --#{$scss-library-var-prefix}tilt: #{$panel-askew-doors-tilt};
  
  position: relative;
  overflow: hidden;
  z-index: 1;

  &::before,
  &::after{
    content: "";
    position: absolute;
    width: 150%;
    height: 150%;
    z-index: -1;
    transition:
            transform var(--#{$scss-library-var-prefix}duration),
            opacity calc(var(--#{$scss-library-var-prefix}duration) * 0.5);
    opacity: var(--#{$scss-library-var-prefix}opacity);
  }

  &::before{
    background-color: var(--#{$scss-library-var-prefix}left-color);
    top: -103%;
    right: -25%;
    transform: rotate(calc(var(--#{$scss-library-var-prefix}tilt) * -1));
  }

  &::after{
    background-color: var(--#{$scss-library-var-prefix}right-color);
    bottom: -103%;
    left: -25%;
    transform: rotate(calc(var(--#{$scss-library-var-prefix}tilt) * -1));
  }

  // askew-doors-vertical

  &.animate-active,
  &.animate-on-active.active,
  &.animate-on-hover:hover {
    @extend %#{$scss-library-prefix}#{$scss-library-component-name}animate-active;
  }

  &.animate-open-active,
  &.animate-open-on-active.active,
  &.animate-open-on-hover:hover {
    @extend %#{$scss-library-prefix}#{$scss-library-component-name}open-active;
  }
}

.#{$scss-library-prefix}#{$scss-library-component-name}-animate-active,
.#{$scss-library-prefix}#{$scss-library-component-name}-animate-on-active.active,
.#{$scss-library-prefix}#{$scss-library-component-name}-animate-on-hover:hover {
  .#{$scss-library-prefix}#{$scss-library-component-name} {
    @extend %#{$scss-library-prefix}#{$scss-library-component-name}animate-active;
  }
}
.#{$scss-library-prefix}#{$scss-library-component-name}-animate-open-active,
.#{$scss-library-prefix}#{$scss-library-component-name}-animate-open-on-active.active,
.#{$scss-library-prefix}#{$scss-library-component-name}-animate-open-on-hover:hover {
  .#{$scss-library-prefix}#{$scss-library-component-name} {
    @extend %#{$scss-library-prefix}#{$scss-library-component-name}open-active;
  }
}