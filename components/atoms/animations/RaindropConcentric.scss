@use "sass:math";

$raindrop-concentric-color: #000 !default;
$raindrop-concentric-color-change: #000 !default;
$raindrop-concentric-size: 150px !default;
$raindrop-concentric-width: 12px !default;
$raindrop-concentric-duration: 14s !default;
$raindrop-concentric-circle-number: 3 !default;

.raindrop-concentric{
  position: absolute;
  transform: translate(-50%, -50%);

  & > div{
    position: relative;

    & > div{
      position: absolute;
      top:-$raindrop-concentric-size*0.5;
      left:-$raindrop-concentric-size*0.5;
      width: $raindrop-concentric-size;
      height: $raindrop-concentric-size;
      border: $raindrop-concentric-width solid $raindrop-concentric-color;
      border-radius: 50%;
      transform: scale(0);
      animation-iteration-count: infinite;
      animation-name: raindrop-concentric-animation-regular;
      @for $i from 1 through $raindrop-concentric-circle-number {
        &:nth-child(#{$i}){
          animation-duration: $raindrop-concentric-duration * math.div($i, $raindrop-concentric-circle-number);
        }
      }
    }
  }

  &.color-change{
    & > div > div{
      animation-name: raindrop-concentric-animation-regular, raindrop-concentric-animation-with-color-change;
    }
  }

  &.only-once{
    & > div > div{
      animation-iteration-count: 1;
    }
  }
}

@keyframes raindrop-concentric-animation-regular {
  80% {
    opacity: 1;
  }

  100% {
    opacity: 0;
    transform: scale(5);
  }
}
@keyframes raindrop-concentric-animation-with-color-change {
  to {
    border-color: $raindrop-concentric-color-change;
  }
}
