@use "../../../index" as guebbit;

$scss-library-prefix: "" !default;
$scss-library-component-name: "choose-option-card" !default;
$scss-library-var-prefix: "" !default;

@forward "../../../components/molecules/cards/SimpleCard" with (
  $scss-library-prefix: $scss-library-prefix !default,
  $scss-library-var-prefix: $scss-library-var-prefix !default,
  $scss-library-component-name: "simple-card",
);
@use "../../../components/molecules/cards/SimpleCard" as inherited;
@forward "../../../components/atoms/buttons/SimpleButton" as button-* with (
  $scss-library-prefix: $scss-library-prefix !default,
  $scss-library-var-prefix: $scss-library-var-prefix + "button-" !default,
);
@forward "../../../components/molecules/lists/SimpleList" as list-* with (
  $scss-library-prefix: $scss-library-prefix !default,
  $scss-library-var-prefix: $scss-library-var-prefix + "list-" !default,
);

$selected-color: inherited.$active-color !default;
$selected-on-color: inherited.$active-on-color !default;
$hover-color: rgba($selected-color, 0.2) !default;
$hover-on-color: $selected-on-color !default;
$inactive-color: #ccc !default;
$inactive-on-color: guebbit.color-contrast($inactive-color) !default;
$disabled-opacity: 0.5 !default;

%#{$scss-library-prefix}#{$scss-library-component-name},
.#{$scss-library-prefix}#{$scss-library-component-name} {
  @extend %#{$scss-library-var-prefix}simple-card;

  --#{$scss-library-var-prefix}selected-color: #{$selected-color};
  --#{$scss-library-var-prefix}selected-on-color: #{$selected-on-color};
  --#{$scss-library-var-prefix}hover-color: #{$hover-color};
  --#{$scss-library-var-prefix}hover-on-color: #{$hover-on-color};
  --#{$scss-library-var-prefix}inactive-color: #{$inactive-color};
  --#{$scss-library-var-prefix}inactive-on-color: #{$inactive-on-color};
  --#{$scss-library-var-prefix}disabled-opacity: #{$disabled-opacity};
  --#{$scss-library-var-prefix}border-color: #{inherited.$active-color};

  .list-container{
    @extend %#{$scss-library-var-prefix}simple-list, .animate-on-active, .animate-on-hover;
    --#{$scss-library-var-prefix}background: var(--#{$scss-library-var-prefix}background);
    --#{$scss-library-var-prefix}on-background: var(--#{$scss-library-var-prefix}on-background);
    --#{$scss-library-var-prefix}active-color: transparent;
    --#{$scss-library-var-prefix}active-on-color: inherit;
    // --#{$scss-library-var-prefix}active-color: blue; // var(--#{$scss-library-var-prefix}active-color);
    // --#{$scss-library-var-prefix}active-on-color: red; // var(--#{$scss-library-var-prefix}active-on-color);

    .item-title{
      font-size: 1em;
    }

    .item-sub-title{
      font-size: 0.8em;
    }

    li {
      display: flex;
      justify-content: space-between;
      align-items: center;
      cursor: pointer;
      transition: background-color var(--#{$scss-library-var-prefix}duration);
      padding-right: var(--#{$scss-library-var-prefix}padding);

      .list-icon{
        background-color: var(--#{$scss-library-var-prefix}inactive-color);
        color: var(--#{$scss-library-var-prefix}inactive-on-color);
      }

      .list-button{
        background: transparent;
        color: var(--#{$scss-library-var-prefix}inactive-color);
      }

      &.active {
        .list-icon{
          background-color: var(--#{$scss-library-var-prefix}selected-color);
          color: var(--#{$scss-library-var-prefix}selected-on-color);
        }

        .list-button{
          color: var(--#{$scss-library-var-prefix}selected-color);
        }
      }

      &.disabled{
        opacity: var(--#{$scss-library-var-prefix}disabled-opacity);
      }

      &:hover{
        &:not(.disabled){
          background-color: var(--#{$scss-library-var-prefix}hover-color);
          color: var(--#{$scss-library-var-prefix}hover-on-color);
        }
      }
    }
  }

  .list-button{
    @extend %#{$scss-library-var-prefix}simple-button, .button-icon-only, .button-shadowless, .button-rounded, .button-plain;
    font-size: 0.75em;
  }

  .list-icon {
    @extend %#{$scss-library-var-prefix}simple-button, .button-icon-only, .button-shadowless, .button-rounded;
    font-size: 0.5em;
    margin-right: 1em;
  }

  .card-title{
    border-left: 8px solid var(--#{$scss-library-var-prefix}border-color);
    padding: var(--#{$scss-library-var-prefix}padding);
    margin-left: calc(var(--#{$scss-library-var-prefix}padding) * -1);
  }
}
